{
  "dashboard": {
    "id": null,
    "title": "Catalytic Computing - Business Metrics",
    "description": "Comprehensive business metrics dashboard for Catalytic Computing SaaS platform",
    "tags": ["catalytic-computing", "business-metrics", "saas", "revenue"],
    "style": "dark",
    "timezone": "browser",
    "panels": [
      {
        "id": 1,
        "title": "User Registration & Activation Rates",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0},
        "fieldConfig": {
          "defaults": {
            "unit": "short",
            "min": 0,
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 50},
                {"color": "red", "value": 100}
              ]
            }
          }
        },
        "targets": [
          {
            "expr": "increase(user_registrations_total[1d])",
            "legendFormat": "Daily Registrations",
            "refId": "A"
          },
          {
            "expr": "increase(user_activations_total[1d])",
            "legendFormat": "Daily Activations", 
            "refId": "B"
          },
          {
            "expr": "increase(user_activations_total[1d]) / increase(user_registrations_total[1d]) * 100",
            "legendFormat": "Activation Rate %",
            "refId": "C"
          }
        ]
      },
      {
        "id": 2,
        "title": "Active Users by Plan Type",
        "type": "piechart",
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0},
        "fieldConfig": {
          "defaults": {
            "unit": "short"
          }
        },
        "options": {
          "reduceOptions": {
            "values": false,
            "calcs": ["lastNotNull"],
            "fields": ""
          },
          "pieType": "pie",
          "displayLabels": ["name", "value", "percent"]
        },
        "targets": [
          {
            "expr": "sum by (plan_type) (active_users_by_plan)",
            "legendFormat": "{{plan_type}}",
            "refId": "A"
          }
        ]
      },
      {
        "id": 3,
        "title": "Monthly Recurring Revenue (MRR)",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 0, "y": 8},
        "fieldConfig": {
          "defaults": {
            "unit": "currencyUSD",
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 50000},
                {"color": "red", "value": 100000}
              ]
            }
          }
        },
        "options": {
          "colorMode": "background",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "values": false,
            "calcs": ["lastNotNull"],
            "fields": ""
          },
          "textMode": "auto"
        },
        "targets": [
          {
            "expr": "current_mrr",
            "legendFormat": "Current MRR",
            "refId": "A"
          }
        ]
      },
      {
        "id": 4,
        "title": "Annual Recurring Revenue (ARR)", 
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 6, "y": 8},
        "fieldConfig": {
          "defaults": {
            "unit": "currencyUSD",
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 600000},
                {"color": "red", "value": 1200000}
              ]
            }
          }
        },
        "targets": [
          {
            "expr": "current_mrr * 12",
            "legendFormat": "Current ARR",
            "refId": "A"
          }
        ]
      },
      {
        "id": 5,
        "title": "MRR Growth Rate",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 12, "y": 8},
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "yellow", "value": 5},
                {"color": "green", "value": 15}
              ]
            }
          }
        },
        "targets": [
          {
            "expr": "(current_mrr - current_mrr offset 30d) / (current_mrr offset 30d) * 100",
            "legendFormat": "MRR Growth %",
            "refId": "A"
          }
        ]
      },
      {
        "id": 6,
        "title": "Customer Churn Rate",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 18, "y": 8},
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "max": 20,
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 5},
                {"color": "red", "value": 10}
              ]
            }
          }
        },
        "targets": [
          {
            "expr": "increase(customer_churn_total[30d]) / (customer_count offset 30d) * 100",
            "legendFormat": "Monthly Churn %",
            "refId": "A"
          }
        ]
      },
      {
        "id": 7,
        "title": "Subscription Metrics - Trials & Conversions",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 12},
        "fieldConfig": {
          "defaults": {
            "unit": "short",
            "min": 0
          }
        },
        "targets": [
          {
            "expr": "increase(trial_starts_total[1d])",
            "legendFormat": "Trial Starts (Daily)",
            "refId": "A"
          },
          {
            "expr": "increase(trial_conversions_total[1d])",
            "legendFormat": "Trial Conversions (Daily)",
            "refId": "B"
          },
          {
            "expr": "increase(subscription_cancellations_total[1d])",
            "legendFormat": "Cancellations (Daily)",
            "refId": "C"
          },
          {
            "expr": "increase(trial_conversions_total[1d]) / increase(trial_starts_total[1d]) * 100",
            "legendFormat": "Trial Conversion Rate %",
            "refId": "D"
          }
        ]
      },
      {
        "id": 8,
        "title": "API Usage by Plan Type",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 12},
        "fieldConfig": {
          "defaults": {
            "unit": "reqps",
            "min": 0
          }
        },
        "targets": [
          {
            "expr": "sum by (plan_type) (rate(api_requests_total[5m]))",
            "legendFormat": "{{plan_type}} Plan",
            "refId": "A"
          },
          {
            "expr": "sum by (plan_type) (api_usage_limits{plan_type!=\"\"})",
            "legendFormat": "{{plan_type}} Limit",
            "refId": "B"
          }
        ]
      },
      {
        "id": 9,
        "title": "Lattice Creation & Utilization",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 8, "x": 0, "y": 20},
        "fieldConfig": {
          "defaults": {
            "unit": "short",
            "min": 0
          }
        },
        "targets": [
          {
            "expr": "increase(lattice_creations_total[1h])",
            "legendFormat": "Hourly Lattice Creations",
            "refId": "A"
          },
          {
            "expr": "avg(lattice_vertices_count)",
            "legendFormat": "Avg Vertices per Lattice",
            "refId": "B"
          },
          {
            "expr": "sum(active_lattices)",
            "legendFormat": "Total Active Lattices",
            "refId": "C"
          }
        ]
      },
      {
        "id": 10,
        "title": "Payment Success/Failure Rates",
        "type": "gauge",
        "gridPos": {"h": 8, "w": 8, "x": 8, "y": 20},
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "min": 0,
            "max": 100,
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "yellow", "value": 95},
                {"color": "green", "value": 98}
              ]
            }
          }
        },
        "options": {
          "orientation": "auto",
          "reduceOptions": {
            "values": false,
            "calcs": ["lastNotNull"],
            "fields": ""
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "targets": [
          {
            "expr": "rate(stripe_payments_successful_total[1h]) / (rate(stripe_payments_successful_total[1h]) + rate(stripe_payments_failed_total[1h])) * 100",
            "legendFormat": "Payment Success Rate",
            "refId": "A"
          }
        ]
      },
      {
        "id": 11,
        "title": "Support Ticket Metrics",
        "type": "timeseries",
        "gridPos": {"h": 8, "w": 8, "x": 16, "y": 20},
        "fieldConfig": {
          "defaults": {
            "unit": "short",
            "min": 0
          }
        },
        "targets": [
          {
            "expr": "increase(support_tickets_created_total[1d])",
            "legendFormat": "Daily Tickets Created",
            "refId": "A"
          },
          {
            "expr": "increase(support_tickets_resolved_total[1d])",
            "legendFormat": "Daily Tickets Resolved",
            "refId": "B"
          },
          {
            "expr": "avg(support_ticket_resolution_time_hours)",
            "legendFormat": "Avg Resolution Time (hours)",
            "refId": "C"
          }
        ]
      },
      {
        "id": 12,
        "title": "Geographic User Distribution",
        "type": "geomap",
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 28},
        "fieldConfig": {
          "defaults": {
            "custom": {
              "hideFrom": {
                "tooltip": false,
                "vis": false,
                "legend": false
              }
            }
          }
        },
        "options": {
          "view": {
            "id": "coords",
            "lat": 40,
            "lon": -100,
            "zoom": 3
          },
          "controls": {
            "showZoom": true,
            "mouseWheelZoom": true,
            "showAttribution": true
          }
        },
        "targets": [
          {
            "expr": "sum by (country) (active_users_by_country)",
            "legendFormat": "{{country}}",
            "refId": "A"
          }
        ]
      },
      {
        "id": 13,
        "title": "Revenue Breakdown by Plan",
        "type": "bargauge", 
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 28},
        "fieldConfig": {
          "defaults": {
            "unit": "currencyUSD",
            "min": 0
          }
        },
        "options": {
          "reduceOptions": {
            "values": false,
            "calcs": ["lastNotNull"],
            "fields": ""
          },
          "orientation": "vertical",
          "displayMode": "gradient"
        },
        "targets": [
          {
            "expr": "sum by (plan_type) (monthly_revenue_by_plan)",
            "legendFormat": "{{plan_type}} Plan",
            "refId": "A"
          }
        ]
      },
      {
        "id": 14,
        "title": "Customer Lifetime Value (CLV)",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 0, "y": 36},
        "fieldConfig": {
          "defaults": {
            "unit": "currencyUSD",
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "yellow", "value": 500},
                {"color": "green", "value": 1000}
              ]
            }
          }
        },
        "targets": [
          {
            "expr": "avg(customer_lifetime_value)",
            "legendFormat": "Average CLV",
            "refId": "A"
          }
        ]
      },
      {
        "id": 15,
        "title": "Customer Acquisition Cost (CAC)",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 6, "y": 36},
        "fieldConfig": {
          "defaults": {
            "unit": "currencyUSD",
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 200},
                {"color": "red", "value": 400}
              ]
            }
          }
        },
        "targets": [
          {
            "expr": "avg(customer_acquisition_cost)",
            "legendFormat": "Average CAC",
            "refId": "A"
          }
        ]
      },
      {
        "id": 16,
        "title": "CLV to CAC Ratio",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 12, "y": 36},
        "fieldConfig": {
          "defaults": {
            "unit": "short",
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "yellow", "value": 3},
                {"color": "green", "value": 5}
              ]
            }
          }
        },
        "targets": [
          {
            "expr": "avg(customer_lifetime_value) / avg(customer_acquisition_cost)",
            "legendFormat": "CLV:CAC Ratio",
            "refId": "A"
          }
        ]
      },
      {
        "id": 17,
        "title": "Net Revenue Retention (NRR)",
        "type": "stat",
        "gridPos": {"h": 4, "w": 6, "x": 18, "y": 36},
        "fieldConfig": {
          "defaults": {
            "unit": "percent",
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "yellow", "value": 100},
                {"color": "green", "value": 110}
              ]
            }
          }
        },
        "targets": [
          {
            "expr": "net_revenue_retention_rate",
            "legendFormat": "NRR %",
            "refId": "A"
          }
        ]
      }
    ],
    "time": {
      "from": "now-30d",
      "to": "now"
    },
    "timepicker": {
      "refresh_intervals": ["5m", "15m", "30m", "1h", "6h", "12h", "1d", "7d", "14d", "30d"]
    },
    "templating": {
      "list": [
        {
          "name": "environment",
          "type": "query",
          "query": "label_values(up, environment)",
          "refresh": 1,
          "includeAll": false,
          "multi": false
        },
        {
          "name": "plan_type",
          "type": "query", 
          "query": "label_values(active_users_by_plan, plan_type)",
          "refresh": 1,
          "includeAll": true,
          "multi": true
        },
        {
          "name": "time_range",
          "type": "custom",
          "options": [
            {"text": "7 days", "value": "7d"},
            {"text": "30 days", "value": "30d"},
            {"text": "90 days", "value": "90d"}
          ],
          "current": {"text": "30 days", "value": "30d"}
        }
      ]
    },
    "annotations": {
      "list": [
        {
          "name": "Product Releases",
          "datasource": "Prometheus", 
          "enable": true,
          "iconColor": "rgba(96, 181, 204, 1)",
          "expr": "changes(product_version_info[1d]) > 0"
        },
        {
          "name": "Marketing Campaigns",
          "datasource": "Prometheus",
          "enable": true,
          "iconColor": "rgba(255, 152, 48, 1)",
          "expr": "marketing_campaign_start"
        }
      ]
    },
    "refresh": "5m",
    "schemaVersion": 27,
    "version": 1
  }
}